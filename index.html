<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Simulador de Investimento Finaceiro Real</title>

<!-- =============================== -->
<!-- ESTILIZAÇÃO CSS -->
<!-- =============================== -->
<style>
body {
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: #e5e7eb;
    margin: 0;
    padding: 40px;
}

h1 {
    text-align: center;
    margin-bottom: 30px;
}

.container {
    max-width: 900px;
    margin: auto;
}

.inputs {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 25px;
}

label {
    font-size: 14px;
    color: #cbd5f5;
}

input {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    border-radius: 6px;
    border: none;
    font-size: 16px;
}

button {
    grid-column: span 3;
    padding: 12px;
    font-size: 16px;
    background: #6366f1;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

button:hover {
    background: #4f46e5;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 25px;
}

th, td {
    padding: 12px;
    text-align: center;
    border-bottom: 1px solid #334155;
}

th {
    background: #1e293b;
}

.loss {
    color: #f87171;
}

.gain {
    color: #4ade80;
}

footer {
    text-align: center;
    margin-top: 30px;
    color: #94a3b8;
    font-size: 13px;
}

/* =============================== */
/* ESTILIZANDO A IMAGEM */
/* =============================== */

.image-slot {
    display: flex;
    justify-content: center;
    margin: 30px 0;
}

.image-slot img {
    width: 300px;
    height: 300px;
    object-fit: cover;
    border-radius: 12px;
    border: 2px solid #334155;
    box-shadow: 0 0 20px rgba(99,102,241,0.3);
}
/* =============================== */
/* ESTILIZANDO A ORIENTAÇÃO */
/* =============================== */
.guide {
    background: #020617;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 25px;
    margin: 30px 0;
    line-height: 1.6;
    color: #e5e7eb;
}

.guide h2, .guide h3 {
    color: #818cf8;
}

.guide hr {
    border: none;
    border-top: 1px solid #334155;
    margin: 20px 0;
}

.guide code {
    background: #1e293b;
    padding: 6px 10px;
    border-radius: 6px;
    color: #38bdf8;
    font-size: 15px;
}

.guide ul {
    margin-left: 20px;
}

/* =============================== */
/*ESTILIZANDO TABELAS ADICIONAIS DE ORIENTAÇÃO*/
/* =============================== */
.guide-table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
}

.guide-table th,
.guide-table td {
    border: 1px solid #334155;
    padding: 10px;
    text-align: center;
}

.guide-table th {
    background: #1e293b;
    color: #818cf8;
}


/* =============================== */
/* ESTILO DO MENU DE TEMPLATES     */
/* =============================== */

.template-menu {
    background: #020617;
    border: 1px solid #334155;
    border-radius: 12px;
    padding: 20px;
    margin: 25px 0;
    text-align: center;
}

.template-menu select {
    padding: 10px;
    font-size: 15px;
    margin-right: 10px;
    border-radius: 6px;
    border: none;
}

.template-menu button {
    padding: 10px 15px;
    font-size: 15px;
    border-radius: 6px;
    background: #22c55e;
    color: #020617;
    border: none;
    cursor: pointer;
}

</style>
<!-- =============================== -->
<!-- FRONT END - CORPO DA PÁGINA HTML -->
<!-- =============================== -->
</head>
<body>

<div class="container">
    <h1>Simulador de Investimento Finaceiro Real</h1>
<hr>
   <h3> Autor: Iraê César Brandão </h3>
	   <h4> Desenvolvedor  <a href="https://luckway.com.br/">Luck Way Informática</a></h4>
<hr>
    <div class="inputs">
        <div>
            <label>Investimento mensal (R$)</label>
            <input id="monthly" type="number" value="1000">
        </div>
        <div>
            <label>Rendimento anual (%)</label>
            <input id="rate" type="number" value="8">
        </div>
        <div>
            <label>Inflação anual (%)</label>
            <input id="inflation" type="number" value="5">
        </div>

        <button onclick="calculate()">Calcular</button>
    </div>

    <table id="resultTable">
        <thead>
            <tr>
                <th>Anos</th>
                <th>Total investido</th>
                <th>Valor nominal</th>
                <th>Valor real</th>
                <th>Perda / ganho real</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

<!-- =============================== -->
<!-- MENU REAL DE EXPORTAÇÃO        -->
<!-- =============================== -->

<div class="template-menu">
    <h3>Exportar / Importar Template</h3>

    <button onclick="exportTemplate()">Exportar resultado</button>
    <input type="file" id="importFile" onchange="importTemplate()">
</div>

<!-- =============================== -->
<!-- AQUI TERMINA O BLOCO DE MENU -->
<!-- =============================== -->

<div class="guide">
    <h2>Como usar este simulador</h2>

    <p><strong>O que isto faz?</strong><br>
    Este simulador mostra quanto seu dinheiro cresce ao longo do tempo e quanto ele realmente vale depois de perder poder de compra para a inflação.</p>

    <p><strong>1. Investimento mensal (R$)</strong><br>
    Quanto você consegue investir todo mês. Ex: 200, 500, 1000.</p>

    <p><strong>2. Rendimento anual (%)</strong><br>
    Quanto seu investimento rende por ano. Valor realista: entre 7% e 10%.</p>

    <p><strong>3. Inflação anual (%)</strong><br>
    Quanto o custo de vida sobe por ano. Normalmente entre 4% e 7%.</p>

    <hr>

    <h3>O que significam os resultados?</h3>

    <p><strong>Total investido:</strong> tudo que você colocou do bolso.</p>
    <p><strong>Valor nominal:</strong> o número que aparece no banco.</p>
    <p><strong>Valor real:</strong> quanto isso realmente compra hoje.</p>
    <p><strong>% ganho/perda:</strong> se você ficou mais rico ou só manteve o lugar.</p>

    <hr>

    <h3>Juros compostos (fórmula)</h3>

    <p><code>FV = PMT × ((1 + r)^n − 1) / r</code></p>

    <ul>
        <li><strong>FV</strong> = valor final (Future Value)</li>
        <li><strong>PMT</strong> = valor mensal investido</li>
        <li><strong>r</strong> = taxa de juros mensal</li>
        <li><strong>n</strong> = número de meses</li>
    </ul>

    <p><strong>Tradução:</strong><br>
    pequenos valores + tempo = grandes diferenças.</p>

<!-- =============================== -->
<!-- ORIENTAÇÕES COMPLEMENTARES SOBRE RENDIMENTO ANUAL -->
<!-- =============================== -->

<h3>Referências aproximadas de rendimento (Brasil)</h3>

<table class="guide-table">
    <tr>
        <th>Tipo de investimento</th>
        <th>Taxa realista</th>
    </tr>
    <tr>
        <td>Poupança</td>
        <td>5% a 6%</td>
    </tr>
    <tr>
        <td>Tesouro / renda fixa</td>
        <td>7% a 9%</td>
    </tr>
    <tr>
        <td>Fundos / ETFs</td>
        <td>8% a 11%</td>
    </tr>
    <tr>
        <td>Ações (médio / longo prazo)</td>
        <td>9% a 12%</td>
    </tr>
</table>

<p><strong>Dica:</strong> Se não sabe qual usar, utilize <strong>8%</strong> como valor conservador.</p>

<!-- =============================== -->
<!-- ORIENTAÇÕES COMPLEMENTARES SOBRE INFLAÇÃO ANUAL -->
<!-- =============================== -->

<h3>Referências de inflação anual</h3>

<table class="guide-table">
    <tr>
        <th>Cenário</th>
        <th>Inflação estimada</th>
    </tr>
    <tr>
        <td>Brasil histórico</td>
        <td>5% a 7%</td>
    </tr>
    <tr>
        <td>Cenário otimista</td>
        <td>4%</td>
    </tr>
    <tr>
        <td>Cenário pessimista</td>
        <td>8% ou mais</td>
    </tr>
</table>

<p><strong>Dica:</strong> Se não souber, utilize <strong>5%</strong>.</p>

<!-- =============================== -->
<!--  COMO FAZER A EXPORTAÇÃO E IMPORTAÇÃO DO TEMPLATE - ORIENTAÇÕES -->
<!-- =============================== -->

<h3>Exportação e Importação de Templates</h3>

<p><strong>Exportar resultado:</strong><br>
Ao clicar em "Exportar resultado", o sistema salva um arquivo contendo o estado atual da tabela de resultados.
Esse arquivo armazena a estrutura visual dos cálculos no formato JSON.</p>

<p><strong>O que acontece na exportação:</strong></p>
<ul>
    <li>O conteúdo da tabela é convertido em texto.</li>
    <li>Esse texto é salvo em um arquivo local no seu computador.</li>
    <li>O arquivo pode ser guardado, compartilhado ou reutilizado.</li>
</ul>

<p><strong>Importar template:</strong><br>
Ao selecionar um arquivo exportado anteriormente, o sistema carrega novamente a tabela exatamente como ela estava.</p>

<p><strong>O que acontece na importação:</strong></p>
<ul>
    <li>O arquivo JSON é lido pelo navegador.</li>
    <li>O conteúdo visual é reconstruído na página.</li>
    <li>Os dados aparecem sem necessidade de recalcular.</li>
</ul>

<p><strong>Como usar corretamente:</strong></p>
<ul>
    <li>Primeiro realize a simulação normalmente.</li>
    <li>Depois exporte o resultado.</li>
    <li>Para recuperar, utilize o botão de importação.</li>
    <li>Use apenas arquivos gerados pelo próprio simulador.</li>
</ul>

</div>

<!-- =============================== -->
<!-- INSERINDO FORMULA DOS CALCULOS-->
<!-- =============================== -->

<div class="image-slot">
    <img src="Simulador.jpg" alt="Imagem do simulador">
</div>

    <footer>
        Simulação educacional — valores reais descontados pela inflação.<br>
        	<small>
	Ferramenta educacional para simulação de investimentos de longo prazo.
	Resultados baseados em modelos matemáticos simplificados.
	</small>
    </footer>
</div>

<!-- =============================== -->
<!-- SCRIPT DE CÁLCULOS -->
<!-- =============================== -->

<script>
function futureValue(monthly, rate, years) {
    let r = rate / 100 / 12;
    let n = years * 12;
    return monthly * ((Math.pow(1 + r, n) - 1) / r);
}

function calculate() {
    let monthly = parseFloat(document.getElementById("monthly").value);
    let rate = parseFloat(document.getElementById("rate").value);
    let inflation = parseFloat(document.getElementById("inflation").value);

    let periods = [5, 10, 15, 20, 25, 30];
    let tbody = document.querySelector("#resultTable tbody");
    tbody.innerHTML = "";

    periods.forEach(years => {
        let nominal = futureValue(monthly, rate, years);
        let real = nominal / Math.pow(1 + inflation / 100, years);
        let invested = monthly * 12 * years;

        let diff = ((real - invested) / invested) * 100;
        let className = diff >= 0 ? "gain" : "loss";

        let row = `
            <tr>
                <td>${years}</td>
	<td>R$ ${invested.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</td>
	<td>R$ ${nominal.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</td>
	<td>R$ ${real.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</td>
                <td class="${className}">
                    ${diff.toFixed(2)}%
                </td>
            </tr>
        `;
        tbody.innerHTML += row;
    });
}

// =====================================
// EXPORTA O HTML DA TABELA
// SALVA EM ARQUIVO .JSON
// =====================================

function exportTemplate() {
    let tableHTML = document.getElementById("resultTable").outerHTML;

    let data = {
        template: tableHTML,
        date: new Date().toISOString()
    };

    let blob = new Blob([JSON.stringify(data)], { type: "application/json" });
    let url = URL.createObjectURL(blob);

    let a = document.createElement("a");
    a.href = url;
    a.download = "template-simulador.json";
    a.click();

    URL.revokeObjectURL(url);
}

// =====================================
// IMPORTA TEMPLATE DO ARQUIVO
// =====================================

function importTemplate() {
    let file = document.getElementById("importFile").files[0];
    if (!file) return;

    let reader = new FileReader();
    reader.onload = function(e) {
        let data = JSON.parse(e.target.result);
        document.getElementById("resultTable").outerHTML = data.template;
    };
    reader.readAsText(file);
}
</script>

</body>
<!-- =============================== -->
<!-- FIM DO HTML-->
<!-- =============================== -->

    <footer>
     ©   LUCK WAY® Informática  - Iraê César Brandão - DEV  
    </footer>

</html>
